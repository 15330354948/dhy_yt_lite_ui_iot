define(["../Core/defined","../Core/defineProperties","../Core/DeveloperError","../Core/Event","../Core/EventHelper","../Core/TimeIntervalCollection","./Property"],function(e,t,n,i,r,a,o){"use strict";function s(){this._eventHelper=new r,this._definitionChanged=new i,this._intervals=new a,this._intervals.changedEvent.addEventListener(s.prototype._intervalsChanged,this)}return t(s.prototype,{isConstant:{get:function(){return this._intervals.isEmpty}},definitionChanged:{get:function(){return this._definitionChanged}},intervals:{get:function(){return this._intervals}}}),s.prototype.getValue=function(t,i){if(!e(t))throw new n("time is required");var r=this._intervals.findDataForIntervalContainingDate(t);if(e(r))return r.getValue(t,i)},s.prototype.equals=function(e){return this===e||e instanceof s&&this._intervals.equals(e._intervals,o.equals)},s.prototype._intervalsChanged=function(){!function(t,n,i,r){function a(){i.raiseEvent(t)}var o=[];n.removeAll();for(var s=r.length,d=0;d<s;d++){var h=r.get(d);e(h.data)&&-1===o.indexOf(h.data)&&n.add(h.data.definitionChanged,a)}}(this,this._eventHelper,this._definitionChanged,this._intervals),this._definitionChanged.raiseEvent(this)},s});