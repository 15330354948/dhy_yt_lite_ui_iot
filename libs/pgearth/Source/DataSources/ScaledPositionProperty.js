define(["../Core/defined","../Core/defineProperties","../Core/DeveloperError","../Core/Ellipsoid","../Core/Event","../Core/ReferenceFrame","./Property"],function(e,i,t,n,r,o,s){"use strict";function u(e){this._definitionChanged=new r,this._value=void 0,this._removeSubscription=void 0,this.setValue(e)}return i(u.prototype,{isConstant:{get:function(){return s.isConstant(this._value)}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return e(this._value)?this._value.referenceFrame:o.FIXED}}}),u.prototype.getValue=function(e,i){return this.getValueInReferenceFrame(e,o.FIXED,i)},u.prototype.setValue=function(i){this._value!==i&&(this._value=i,e(this._removeSubscription)&&(this._removeSubscription(),this._removeSubscription=void 0),e(i)&&(this._removeSubscription=i.definitionChanged.addEventListener(this._raiseDefinitionChanged,this)),this._definitionChanged.raiseEvent(this))},u.prototype.getValueInReferenceFrame=function(i,r,o){if(!e(i))throw new t("time is required.");if(!e(r))throw new t("referenceFrame is required.");if(e(this._value))return o=this._value.getValueInReferenceFrame(i,r,o),e(o)?n.WGS84.scaleToGeodeticSurface(o,o):void 0},u.prototype.equals=function(e){return this===e||e instanceof u&&this._value===e._value},u.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},u});