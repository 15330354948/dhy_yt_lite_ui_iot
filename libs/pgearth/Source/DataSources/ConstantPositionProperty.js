define(["../Core/Cartesian3","../Core/defaultValue","../Core/defined","../Core/defineProperties","../Core/DeveloperError","../Core/Event","../Core/ReferenceFrame","./PositionProperty"],function(e,r,t,n,i,o,a,u){"use strict";function f(t,n){this._definitionChanged=new o,this._value=e.clone(t),this._referenceFrame=r(n,a.FIXED)}return n(f.prototype,{isConstant:{get:function(){return!t(this._value)||this._referenceFrame===a.FIXED}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),f.prototype.getValue=function(e,r){return this.getValueInReferenceFrame(e,a.FIXED,r)},f.prototype.setValue=function(r,n){var i=!1;e.equals(this._value,r)||(i=!0,this._value=e.clone(r)),t(n)&&this._referenceFrame!==n&&(i=!0,this._referenceFrame=n),i&&this._definitionChanged.raiseEvent(this)},f.prototype.getValueInReferenceFrame=function(e,r,n){if(!t(e))throw new i("time is required.");if(!t(r))throw new i("referenceFrame is required.");return u.convertToReferenceFrame(e,this._value,this._referenceFrame,r,n)},f.prototype.equals=function(r){return this===r||r instanceof f&&e.equals(this._value,r._value)&&this._referenceFrame===r._referenceFrame},f});