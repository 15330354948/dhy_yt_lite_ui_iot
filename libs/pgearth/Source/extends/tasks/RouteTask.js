define(["../../Core/defaultValue","../../Core/defined","../../Core/Resource","../../ThirdParty/Uri","../../Core/objectToQuery","../../Core/queryToObject","../../Core/DeveloperError","./RouteParameters"],function(r,e,t,o,u,i,n,a){var l=function(r){if(!e(r.url))throw new n("url is required");if(!e(r.layer))throw new n("layer is required");this._url=r.url,this._layer=r.layer};return l.prototype.solve=function(l){if(!l instanceof a)throw new n("parameters must be RouteParameters");var s=l.getStart(),y=l.getEnd(),f=new o(this._url);f.path=f.getPath()+"/"+this._layer;var h=i(r(f.query,""));function c(r,t){e(h[r])||(h[r]=t)}c("x1",s.x),c("y1",s.y),c("x2",y.x),c("y2",y.y),f.query=u(h);var d=f.toString();return this._url=d,t.fetchJson({url:d})},l.getUrl=function(){return this._url},l});