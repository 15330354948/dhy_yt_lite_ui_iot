define(["../Core/defaultValue","../Core/defined","../Core/defineProperties","../Core/destroyObject","../Core/DeveloperError","../Core/getTimestamp","../Widgets/getElement"],function(e,t,s,r,a,i,o){"use strict";function n(s){s=e(s,e.EMPTY_OBJECT);var r=o(s.container);if(!t(r))throw new a("container is required");this._container=r;var n=document.createElement("div");n.className="pgEarth-performanceDisplay";var p=document.createElement("div");p.className="pgEarth-performanceDisplay-fps",this._fpsText=document.createTextNode(""),p.appendChild(this._fpsText);var d=document.createElement("div");d.className="pgEarth-performanceDisplay-ms",this._msText=document.createTextNode(""),d.appendChild(this._msText),n.appendChild(d),n.appendChild(p),this._container.appendChild(n),this._lastFpsSampleTime=i(),this._lastMsSampleTime=i(),this._fpsFrameCount=0,this._msFrameCount=0,this._throttled=!1;var h=document.createElement("div");h.className="pgEarth-performanceDisplay-throttled",this._throttledText=document.createTextNode(""),h.appendChild(this._throttledText),n.appendChild(h)}return s(n.prototype,{throttled:{get:function(){return this._throttled},set:function(e){this._throttled!==e&&(this._throttledText.nodeValue=e?"(throttled)":"",this._throttled=e)}}}),n.prototype.update=function(t){var s=i(),r=e(t,!0);this._fpsFrameCount++;var a=s-this._lastFpsSampleTime;if(a>1e3){var o="N/A";r&&(o=1e3*this._fpsFrameCount/a|0),this._fpsText.nodeValue=o+" FPS",this._lastFpsSampleTime=s,this._fpsFrameCount=0}this._msFrameCount++;var n=s-this._lastMsSampleTime;if(n>200){var p="N/A";r&&(p=(n/this._msFrameCount).toFixed(2)),this._msText.nodeValue=p+" MS",this._lastMsSampleTime=s,this._msFrameCount=0}},n.prototype.destroy=function(){return r(this)},n});