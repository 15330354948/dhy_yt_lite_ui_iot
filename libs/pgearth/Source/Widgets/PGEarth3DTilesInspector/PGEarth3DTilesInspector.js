define(["../../Core/Check","../../Core/defaultValue","../../Core/defined","../../Core/defineProperties","../../Core/destroyObject","../../ThirdParty/knockout","../getElement","../InspectorShared","./PGEarth3DTilesInspectorViewModel"],function(e,t,i,a,n,r,d,l,p){"use strict";function o(t,i){e.defined("container",t),e.typeOf.object("scene",i),t=d(t);var a=document.createElement("div"),n=document.createElement("div");n.setAttribute("data-bind","visible: performance");var o=new p(i,n);this._viewModel=o,this._container=t,this._element=a;var h=document.createElement("div");h.textContent="3D Tiles Inspector",h.className="pgEarth-pgEarthInspector-button",h.setAttribute("data-bind","click: toggleInspector"),a.appendChild(h),a.className="pgEarth-pgEarthInspector pgEarth-3DTilesInspector",a.setAttribute("data-bind",'css: { "pgEarth-pgEarthInspector-visible" : inspectorVisible, "pgEarth-pgEarthInspector-hidden" : !inspectorVisible}'),t.appendChild(a);var m=document.createElement("div");this._panel=m,m.className="pgEarth-pgEarthInspector-dropDown",a.appendChild(m);var u=l.createSection,g=l.createCheckbox,C=u(m,"Tileset","tilesetVisible","toggleTileset"),E=u(m,"Display","displayVisible","toggleDisplay"),b=u(m,"Update","updateVisible","toggleUpdate"),v=u(m,"Logging","loggingVisible","toggleLogging"),S=u(m,"Tile Debug Labels","tileDebugLabelsVisible","toggleTileDebugLabels"),y=u(m,"Style","styleVisible","toggleStyle"),D=u(m,"Optimization","optimizationVisible","toggleOptimization"),k=document.createElement("div");k.className="field-group";var f=document.createElement("label");f.className="field-label",f.appendChild(document.createTextNode("Properties: "));var T=document.createElement("div");T.setAttribute("data-bind","text: properties"),k.appendChild(f),k.appendChild(T),C.appendChild(k),C.appendChild(c("togglePickTileset","Pick Tileset","pickActive")),C.appendChild(c("trimTilesCache","Trim Tiles Cache")),C.appendChild(g("Enable Picking","picking")),E.appendChild(g("Colorize","colorize")),E.appendChild(g("Wireframe","wireframe")),E.appendChild(g("Bounding Volumes","showBoundingVolumes")),E.appendChild(g("Content Volumes","showContentBoundingVolumes")),E.appendChild(g("Request Volumes","showRequestVolumes")),E.appendChild(g("Point Cloud Shading","pointCloudShading"));var w=document.createElement("div");w.setAttribute("data-bind","visible: pointCloudShading"),w.appendChild(s("geometricErrorScale",0,2,.01,"Geometric Error Scale")),w.appendChild(s("maximumAttenuation",0,32,1,"Maximum Attenuation")),w.appendChild(s("baseResolution",0,1,.01,"Base Resolution")),w.appendChild(g("Eye Dome Lighting (EDL)","eyeDomeLighting")),E.appendChild(w);var L=document.createElement("div");L.setAttribute("data-bind","visible: eyeDomeLighting"),L.appendChild(s("eyeDomeLightingStrength",0,2,.1,"EDL Strength")),L.appendChild(s("eyeDomeLightingRadius",0,4,.1,"EDL Radius")),w.appendChild(L),b.appendChild(g("Freeze Frame","freezeFrame")),b.appendChild(g("Dynamic Screen Space Error","dynamicScreenSpaceError"));var x=document.createElement("div");x.appendChild(s("maximumScreenSpaceError",0,128,1,"Maximum Screen Space Error")),b.appendChild(x);var V=document.createElement("div");V.setAttribute("data-bind","visible: dynamicScreenSpaceError"),V.appendChild(s("dynamicScreenSpaceErrorDensitySliderValue",0,1,.005,"Screen Space Error Density","dynamicScreenSpaceErrorDensity")),V.appendChild(s("dynamicScreenSpaceErrorFactor",1,10,.1,"Screen Space Error Factor")),b.appendChild(V),v.appendChild(g("Performance","performance")),v.appendChild(n),v.appendChild(g("Statistics","showStatistics"));var A=document.createElement("div");A.className="pgEarth-3dTilesInspector-statistics",A.setAttribute("data-bind","html: statisticsText, visible: showStatistics"),v.appendChild(A),v.appendChild(g("Pick Statistics","showPickStatistics"));var I=document.createElement("div");I.className="pgEarth-3dTilesInspector-statistics",I.setAttribute("data-bind","html: pickStatisticsText, visible: showPickStatistics"),v.appendChild(I);var N=document.createElement("div");y.appendChild(N),N.appendChild(document.createTextNode("Color Blend Mode: "));var P=document.createElement("select");P.setAttribute("data-bind",'options: colorBlendModes, optionsText: "text", optionsValue: "value", value: colorBlendMode'),N.appendChild(P);var M=document.createElement("textarea");M.setAttribute("data-bind","textInput: styleString, event: { keydown: styleEditorKeyPress }"),N.className="pgEarth-pgEarthInspector-styleEditor",N.appendChild(M);var B=c("compileStyle","Compile (Ctrl+Enter)");N.appendChild(B);var O=document.createElement("div");O.className="pgEarth-pgEarthInspector-error",O.setAttribute("data-bind","text: editorError"),N.appendChild(O),S.appendChild(g("Show Picked Only","showOnlyPickedTileDebugLabel")),S.appendChild(g("Geometric Error","showGeometricError")),S.appendChild(g("Rendering Statistics","showRenderingStatistics")),S.appendChild(g("Memory Usage (MB)","showMemoryUsage")),S.appendChild(g("Url","showUrl")),D.appendChild(g("Skip Tile LODs","skipLevelOfDetail"));var _=document.createElement("div");_.appendChild(s("skipScreenSpaceErrorFactor",1,50,1,"Skip SSE Factor")),D.appendChild(_);var R=document.createElement("div");R.appendChild(s("baseScreenSpaceError",0,4096,1,"SSE before skipping LOD")),D.appendChild(R);var z=document.createElement("div");z.appendChild(s("skipLevels",0,10,1,"Min. levels to skip")),D.appendChild(z),D.appendChild(g("Load only tiles that meet the max SSE.","immediatelyLoadDesiredLevelOfDetail")),D.appendChild(g("Load siblings of visible tiles","loadSiblings")),r.applyBindings(o,a)}function s(e,i,a,n,r,d){d=t(d,e);var l=document.createElement("input");l.setAttribute("data-bind","value: "+d),l.type="number";var p=document.createElement("input");p.type="range",p.min=i,p.max=a,p.step=n,p.setAttribute("data-bind",'valueUpdate: "input", value: '+e);var o=document.createElement("div");o.appendChild(p);var s=document.createElement("div");return s.className="pgEarth-pgEarthInspector-slider",s.appendChild(document.createTextNode(r)),s.appendChild(l),s.appendChild(o),s}function c(e,t,a){var n=document.createElement("button");n.type="button",n.textContent=t,n.className="pgEarth-pgEarthInspector-pickButton";var r="click: "+e;return i(a)&&(r+=', css: {"pgEarth-pgEarthInspector-pickButtonHighlight" : '+a+"}"),n.setAttribute("data-bind",r),n}return a(o.prototype,{container:{get:function(){return this._container}},viewModel:{get:function(){return this._viewModel}}}),o.prototype.isDestroyed=function(){return!1},o.prototype.destroy=function(){return r.cleanNode(this._element),this._container.removeChild(this._element),this.viewModel.destroy(),n(this)},o});