define(["../../../../Core/defined","../../../../Core/Ray","../../../../Core/IntersectionTests","../../../../Core/Cartesian3","../../../../Scene/SceneMode","./NavigationControl","../Core/Utils"],function(t,e,i,o,r,a,n){"use strict";var s=function(t,e){a.apply(this,arguments),this.name=e?"放大":"缩小",this.svgColor="#000",this.text=e?"+":"-",this.cssClass="navigation-control-icon-zoom-"+(e?"in":"out"),this.relativeAmount=2,e&&(this.relativeAmount=1/this.relativeAmount)};s.prototype.relativeAmount=1,(s.prototype=Object.create(a.prototype)).activate=function(){this.zoom(this.relativeAmount)};var c=new o;return s.prototype.zoom=function(a){if(this.isActive=!0,t(this.terria)){var s=this.terria.scene,l=s.screenSpaceCameraController;if(!l.enableInputs||!l.enableZoom)return;var h,p=s.camera;switch(s.mode){case r.MORPHING:break;case r.SCENE2D:p.zoomIn(p.positionCartographic.height*(1-this.relativeAmount));break;default:var d;if(d=t(this.terria.trackedEntity)?new o:n.getCameraFocus(this.terria,!1),t(d))h={direction:p.direction,up:p.up};else{var u=new e(p.worldToCameraCoordinatesPoint(s.globe.ellipsoid.cartographicToCartesian(p.positionCartographic)),p.directionWC);d=i.grazingAltitudeLocation(u,s.globe.ellipsoid),h={heading:p.heading,pitch:p.pitch,roll:p.roll}}var v=o.subtract(p.position,d,c),C=o.multiplyByScalar(v,a,v),m=o.add(d,C,d);t(this.terria.trackedEntity)||s.mode==r.COLUMBUS_VIEW?p.position=m:p.flyTo({destination:m,orientation:h,duration:.5,convert:!1})}}this.isActive=!1},s});