define(["../../Core/defined","../../Core/defineProperties","../../Core/destroyObject","../../Core/DeveloperError","../../Core/EventHelper","../../Core/OrthographicFrustum","../../Scene/SceneMode","../../ThirdParty/knockout","../createCommand"],function(e,t,o,r,i,n,s,c,h){"use strict";function p(t){if(!e(t))throw new r("scene is required.");this._scene=t,this._orthographic=t.camera.frustum instanceof n,this._flightInProgress=!1,this.dropDownVisible=!1,this.tooltipPerspective="Perspective Projection",this.tooltipOrthographic="Orthographic Projection",this.selectedTooltip=void 0,this.sceneMode=t.mode,c.track(this,["_orthographic","_flightInProgress","sceneMode","dropDownVisible","tooltipPerspective","tooltipOrthographic"]);var o=this;c.defineProperty(this,"selectedTooltip",function(){return o._orthographic?o.tooltipOrthographic:o.tooltipPerspective}),this._toggleDropDown=h(function(){o.sceneMode===s.SCENE2D||o._flightInProgress||(o.dropDownVisible=!o.dropDownVisible)}),this._eventHelper=new i,this._eventHelper.add(t.morphComplete,function(e,t,r,i){o.sceneMode=r,o._orthographic=r===s.SCENE2D||o._scene.camera.frustum instanceof n}),this._eventHelper.add(t.preRender,function(){o._flightInProgress=e(t.camera._currentFlight)}),this._switchToPerspective=h(function(){o.sceneMode!==s.SCENE2D&&(o._scene.camera.switchToPerspectiveFrustum(),o._orthographic=!1,o.dropDownVisible=!1)}),this._switchToOrthographic=h(function(){o.sceneMode!==s.SCENE2D&&(o._scene.camera.switchToOrthographicFrustum(),o._orthographic=!0,o.dropDownVisible=!1)}),this._sceneMode=s}return t(p.prototype,{scene:{get:function(){return this._scene}},toggleDropDown:{get:function(){return this._toggleDropDown}},switchToPerspective:{get:function(){return this._switchToPerspective}},switchToOrthographic:{get:function(){return this._switchToOrthographic}},isOrthographicProjection:{get:function(){return this._orthographic}}}),p.prototype.isDestroyed=function(){return!1},p.prototype.destroy=function(){this._eventHelper.removeAll(),o(this)},p});