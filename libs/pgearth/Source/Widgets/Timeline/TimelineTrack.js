define(["../../Core/Color","../../Core/defined","../../Core/JulianDate"],function(t,r,i){"use strict";function e(r,i,e,a){this.interval=r,this.height=i,this.color=e||new t(.5,.5,.5,1),this.backgroundColor=a||new t(0,0,0,0)}return e.prototype.render=function(t,e){var a=this.interval.start,l=this.interval.stop,o=e.startJulian,n=i.addSeconds(e.startJulian,e.duration,new i);if(i.lessThan(a,o)&&i.greaterThan(l,n))t.fillStyle=this.color.toCssColorString(),t.fillRect(0,e.y,e.timeBarWidth,this.height);else if(i.lessThanOrEquals(a,n)&&i.greaterThanOrEquals(l,o)){var s,h,d;for(s=0;s<e.timeBarWidth;++s){var u=i.addSeconds(e.startJulian,s/e.timeBarWidth*e.duration,new i);!r(h)&&i.greaterThanOrEquals(u,a)?h=s:!r(d)&&i.greaterThanOrEquals(u,l)&&(d=s)}t.fillStyle=this.backgroundColor.toCssColorString(),t.fillRect(0,e.y,e.timeBarWidth,this.height),r(h)&&(r(d)||(d=e.timeBarWidth),t.fillStyle=this.color.toCssColorString(),t.fillRect(h,e.y,Math.max(d-h,1),this.height))}},e});