define(["./Check","./defaultValue","./defined","./FeatureDetection","./freezeObject","./Math"],function(r,o,e,t,s,n){"use strict";function C(r,o,e){return e<0&&(e+=1),e>1&&(e-=1),6*e<1?r+6*(o-r)*e:2*e<1?o:3*e<2?r+(o-r)*(2/3-e)*6:r}function l(r,e,t,s){this.red=o(r,1),this.green=o(e,1),this.blue=o(t,1),this.alpha=o(s,1)}var i,f,a;l.fromCartesian4=function(o,t){return r.typeOf.object("cartesian",o),e(t)?(t.red=o.x,t.green=o.y,t.blue=o.z,t.alpha=o.w,t):new l(o.x,o.y,o.z,o.w)},l.fromBytes=function(r,t,s,n,C){return r=l.byteToFloat(o(r,255)),t=l.byteToFloat(o(t,255)),s=l.byteToFloat(o(s,255)),n=l.byteToFloat(o(n,255)),e(C)?(C.red=r,C.green=t,C.blue=s,C.alpha=n,C):new l(r,t,s,n)},l.fromAlpha=function(o,t,s){return r.typeOf.object("color",o),r.typeOf.number("alpha",t),e(s)?(s.red=o.red,s.green=o.green,s.blue=o.blue,s.alpha=t,s):new l(o.red,o.green,o.blue,t)},t.supportsTypedArrays()&&(i=new ArrayBuffer(4),f=new Uint32Array(i),a=new Uint8Array(i)),l.fromRgba=function(r,o){return f[0]=r,l.fromBytes(a[0],a[1],a[2],a[3],o)},l.fromHsl=function(r,t,s,n,i){r=o(r,0)%1,t=o(t,0),s=o(s,0),n=o(n,1);var f=s,a=s,E=s;if(0!==t){var m,g=2*s-(m=s<.5?s*(1+t):s+t-s*t);f=C(g,m,r+1/3),a=C(g,m,r),E=C(g,m,r-1/3)}return e(i)?(i.red=f,i.green=a,i.blue=E,i.alpha=n,i):new l(f,a,E,n)},l.fromRandom=function(t,s){var C=(t=o(t,o.EMPTY_OBJECT)).red;if(!e(C)){var i=o(t.minimumRed,0),f=o(t.maximumRed,1);r.typeOf.number.lessThanOrEquals("minimumRed",i,f),C=i+n.nextRandomNumber()*(f-i)}var a=t.green;if(!e(a)){var E=o(t.minimumGreen,0),m=o(t.maximumGreen,1);r.typeOf.number.lessThanOrEquals("minimumGreen",E,m),a=E+n.nextRandomNumber()*(m-E)}var g=t.blue;if(!e(g)){var F=o(t.minimumBlue,0),S=o(t.maximumBlue,1);r.typeOf.number.lessThanOrEquals("minimumBlue",F,S),g=F+n.nextRandomNumber()*(S-F)}var u=t.alpha;if(!e(u)){var A=o(t.minimumAlpha,0),p=o(t.maximumAlpha,1);r.typeOf.number.lessThanOrEquals("minumumAlpha",A,p),u=A+n.nextRandomNumber()*(p-A)}return e(s)?(s.red=C,s.green=a,s.blue=g,s.alpha=u,s):new l(C,a,g,u)};var E=/^#([0-9a-f])([0-9a-f])([0-9a-f])$/i,m=/^#([0-9a-f]{2})([0-9a-f]{2})([0-9a-f]{2})$/i,g=/^rgba?\(\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)\s*,\s*([0-9.]+%?)(?:\s*,\s*([0-9.]+))?\s*\)$/i,F=/^hsla?\(\s*([0-9.]+)\s*,\s*([0-9.]+%)\s*,\s*([0-9.]+%)(?:\s*,\s*([0-9.]+))?\s*\)$/i;return l.fromCssColorString=function(t,s){r.typeOf.string("color",t),e(s)||(s=new l);var n=l[t.toUpperCase()];if(e(n))return l.clone(n,s),s;var C=E.exec(t);return null!==C?(s.red=parseInt(C[1],16)/15,s.green=parseInt(C[2],16)/15,s.blue=parseInt(C[3],16)/15,s.alpha=1,s):null!==(C=m.exec(t))?(s.red=parseInt(C[1],16)/255,s.green=parseInt(C[2],16)/255,s.blue=parseInt(C[3],16)/255,s.alpha=1,s):null!==(C=g.exec(t))?(s.red=parseFloat(C[1])/("%"===C[1].substr(-1)?100:255),s.green=parseFloat(C[2])/("%"===C[2].substr(-1)?100:255),s.blue=parseFloat(C[3])/("%"===C[3].substr(-1)?100:255),s.alpha=parseFloat(o(C[4],"1.0")),s):null!==(C=F.exec(t))?l.fromHsl(parseFloat(C[1])/360,parseFloat(C[2])/100,parseFloat(C[3])/100,parseFloat(o(C[4],"1.0")),s):s=void 0},l.packedLength=4,l.pack=function(e,t,s){return r.typeOf.object("value",e),r.defined("array",t),s=o(s,0),t[s++]=e.red,t[s++]=e.green,t[s++]=e.blue,t[s]=e.alpha,t},l.unpack=function(t,s,n){return r.defined("array",t),s=o(s,0),e(n)||(n=new l),n.red=t[s++],n.green=t[s++],n.blue=t[s++],n.alpha=t[s],n},l.byteToFloat=function(r){return r/255},l.floatToByte=function(r){return 1===r?255:256*r|0},l.clone=function(r,o){if(e(r))return e(o)?(o.red=r.red,o.green=r.green,o.blue=r.blue,o.alpha=r.alpha,o):new l(r.red,r.green,r.blue,r.alpha)},l.equals=function(r,o){return r===o||e(r)&&e(o)&&r.red===o.red&&r.green===o.green&&r.blue===o.blue&&r.alpha===o.alpha},l.equalsArray=function(r,o,e){return r.red===o[e]&&r.green===o[e+1]&&r.blue===o[e+2]&&r.alpha===o[e+3]},l.prototype.clone=function(r){return l.clone(this,r)},l.prototype.equals=function(r){return l.equals(this,r)},l.prototype.equalsEpsilon=function(r,o){return this===r||e(r)&&Math.abs(this.red-r.red)<=o&&Math.abs(this.green-r.green)<=o&&Math.abs(this.blue-r.blue)<=o&&Math.abs(this.alpha-r.alpha)<=o},l.prototype.toString=function(){return"("+this.red+", "+this.green+", "+this.blue+", "+this.alpha+")"},l.prototype.toCssColorString=function(){var r=l.floatToByte(this.red),o=l.floatToByte(this.green),e=l.floatToByte(this.blue);return 1===this.alpha?"rgb("+r+","+o+","+e+")":"rgba("+r+","+o+","+e+","+this.alpha+")"},l.prototype.toBytes=function(r){var o=l.floatToByte(this.red),t=l.floatToByte(this.green),s=l.floatToByte(this.blue),n=l.floatToByte(this.alpha);return e(r)?(r[0]=o,r[1]=t,r[2]=s,r[3]=n,r):[o,t,s,n]},l.prototype.toRgba=function(){return a[0]=l.floatToByte(this.red),a[1]=l.floatToByte(this.green),a[2]=l.floatToByte(this.blue),a[3]=l.floatToByte(this.alpha),f[0]},l.prototype.brighten=function(o,e){return r.typeOf.number("magnitude",o),r.typeOf.number.greaterThanOrEquals("magnitude",o,0),r.typeOf.object("result",e),o=1-o,e.red=1-(1-this.red)*o,e.green=1-(1-this.green)*o,e.blue=1-(1-this.blue)*o,e.alpha=this.alpha,e},l.prototype.darken=function(o,e){return r.typeOf.number("magnitude",o),r.typeOf.number.greaterThanOrEquals("magnitude",o,0),r.typeOf.object("result",e),o=1-o,e.red=this.red*o,e.green=this.green*o,e.blue=this.blue*o,e.alpha=this.alpha,e},l.prototype.withAlpha=function(r,o){return l.fromAlpha(this,r,o)},l.add=function(o,e,t){return r.typeOf.object("left",o),r.typeOf.object("right",e),r.typeOf.object("result",t),t.red=o.red+e.red,t.green=o.green+e.green,t.blue=o.blue+e.blue,t.alpha=o.alpha+e.alpha,t},l.subtract=function(o,e,t){return r.typeOf.object("left",o),r.typeOf.object("right",e),r.typeOf.object("result",t),t.red=o.red-e.red,t.green=o.green-e.green,t.blue=o.blue-e.blue,t.alpha=o.alpha-e.alpha,t},l.multiply=function(o,e,t){return r.typeOf.object("left",o),r.typeOf.object("right",e),r.typeOf.object("result",t),t.red=o.red*e.red,t.green=o.green*e.green,t.blue=o.blue*e.blue,t.alpha=o.alpha*e.alpha,t},l.divide=function(o,e,t){return r.typeOf.object("left",o),r.typeOf.object("right",e),r.typeOf.object("result",t),t.red=o.red/e.red,t.green=o.green/e.green,t.blue=o.blue/e.blue,t.alpha=o.alpha/e.alpha,t},l.mod=function(o,e,t){return r.typeOf.object("left",o),r.typeOf.object("right",e),r.typeOf.object("result",t),t.red=o.red%e.red,t.green=o.green%e.green,t.blue=o.blue%e.blue,t.alpha=o.alpha%e.alpha,t},l.multiplyByScalar=function(o,e,t){return r.typeOf.object("color",o),r.typeOf.number("scalar",e),r.typeOf.object("result",t),t.red=o.red*e,t.green=o.green*e,t.blue=o.blue*e,t.alpha=o.alpha*e,t},l.divideByScalar=function(o,e,t){return r.typeOf.object("color",o),r.typeOf.number("scalar",e),r.typeOf.object("result",t),t.red=o.red/e,t.green=o.green/e,t.blue=o.blue/e,t.alpha=o.alpha/e,t},l.ALICEBLUE=s(l.fromCssColorString("#F0F8FF")),l.ANTIQUEWHITE=s(l.fromCssColorString("#FAEBD7")),l.AQUA=s(l.fromCssColorString("#00FFFF")),l.AQUAMARINE=s(l.fromCssColorString("#7FFFD4")),l.AZURE=s(l.fromCssColorString("#F0FFFF")),l.BEIGE=s(l.fromCssColorString("#F5F5DC")),l.BISQUE=s(l.fromCssColorString("#FFE4C4")),l.BLACK=s(l.fromCssColorString("#000000")),l.BLANCHEDALMOND=s(l.fromCssColorString("#FFEBCD")),l.BLUE=s(l.fromCssColorString("#0000FF")),l.BLUEVIOLET=s(l.fromCssColorString("#8A2BE2")),l.BROWN=s(l.fromCssColorString("#A52A2A")),l.BURLYWOOD=s(l.fromCssColorString("#DEB887")),l.CADETBLUE=s(l.fromCssColorString("#5F9EA0")),l.CHARTREUSE=s(l.fromCssColorString("#7FFF00")),l.CHOCOLATE=s(l.fromCssColorString("#D2691E")),l.CORAL=s(l.fromCssColorString("#FF7F50")),l.CORNFLOWERBLUE=s(l.fromCssColorString("#6495ED")),l.CORNSILK=s(l.fromCssColorString("#FFF8DC")),l.CRIMSON=s(l.fromCssColorString("#DC143C")),l.CYAN=s(l.fromCssColorString("#00FFFF")),l.DARKBLUE=s(l.fromCssColorString("#00008B")),l.DARKCYAN=s(l.fromCssColorString("#008B8B")),l.DARKGOLDENROD=s(l.fromCssColorString("#B8860B")),l.DARKGRAY=s(l.fromCssColorString("#A9A9A9")),l.DARKGREEN=s(l.fromCssColorString("#006400")),l.DARKGREY=l.DARKGRAY,l.DARKKHAKI=s(l.fromCssColorString("#BDB76B")),l.DARKMAGENTA=s(l.fromCssColorString("#8B008B")),l.DARKOLIVEGREEN=s(l.fromCssColorString("#556B2F")),l.DARKORANGE=s(l.fromCssColorString("#FF8C00")),l.DARKORCHID=s(l.fromCssColorString("#9932CC")),l.DARKRED=s(l.fromCssColorString("#8B0000")),l.DARKSALMON=s(l.fromCssColorString("#E9967A")),l.DARKSEAGREEN=s(l.fromCssColorString("#8FBC8F")),l.DARKSLATEBLUE=s(l.fromCssColorString("#483D8B")),l.DARKSLATEGRAY=s(l.fromCssColorString("#2F4F4F")),l.DARKSLATEGREY=l.DARKSLATEGRAY,l.DARKTURQUOISE=s(l.fromCssColorString("#00CED1")),l.DARKVIOLET=s(l.fromCssColorString("#9400D3")),l.DEEPPINK=s(l.fromCssColorString("#FF1493")),l.DEEPSKYBLUE=s(l.fromCssColorString("#00BFFF")),l.DIMGRAY=s(l.fromCssColorString("#696969")),l.DIMGREY=l.DIMGRAY,l.DODGERBLUE=s(l.fromCssColorString("#1E90FF")),l.FIREBRICK=s(l.fromCssColorString("#B22222")),l.FLORALWHITE=s(l.fromCssColorString("#FFFAF0")),l.FORESTGREEN=s(l.fromCssColorString("#228B22")),l.FUCHSIA=s(l.fromCssColorString("#FF00FF")),l.GAINSBORO=s(l.fromCssColorString("#DCDCDC")),l.GHOSTWHITE=s(l.fromCssColorString("#F8F8FF")),l.GOLD=s(l.fromCssColorString("#FFD700")),l.GOLDENROD=s(l.fromCssColorString("#DAA520")),l.GRAY=s(l.fromCssColorString("#808080")),l.GREEN=s(l.fromCssColorString("#008000")),l.GREENYELLOW=s(l.fromCssColorString("#ADFF2F")),l.GREY=l.GRAY,l.HONEYDEW=s(l.fromCssColorString("#F0FFF0")),l.HOTPINK=s(l.fromCssColorString("#FF69B4")),l.INDIANRED=s(l.fromCssColorString("#CD5C5C")),l.INDIGO=s(l.fromCssColorString("#4B0082")),l.IVORY=s(l.fromCssColorString("#FFFFF0")),l.KHAKI=s(l.fromCssColorString("#F0E68C")),l.LAVENDER=s(l.fromCssColorString("#E6E6FA")),l.LAVENDAR_BLUSH=s(l.fromCssColorString("#FFF0F5")),l.LAWNGREEN=s(l.fromCssColorString("#7CFC00")),l.LEMONCHIFFON=s(l.fromCssColorString("#FFFACD")),l.LIGHTBLUE=s(l.fromCssColorString("#ADD8E6")),l.LIGHTCORAL=s(l.fromCssColorString("#F08080")),l.LIGHTCYAN=s(l.fromCssColorString("#E0FFFF")),l.LIGHTGOLDENRODYELLOW=s(l.fromCssColorString("#FAFAD2")),l.LIGHTGRAY=s(l.fromCssColorString("#D3D3D3")),l.LIGHTGREEN=s(l.fromCssColorString("#90EE90")),l.LIGHTGREY=l.LIGHTGRAY,l.LIGHTPINK=s(l.fromCssColorString("#FFB6C1")),l.LIGHTSEAGREEN=s(l.fromCssColorString("#20B2AA")),l.LIGHTSKYBLUE=s(l.fromCssColorString("#87CEFA")),l.LIGHTSLATEGRAY=s(l.fromCssColorString("#778899")),l.LIGHTSLATEGREY=l.LIGHTSLATEGRAY,l.LIGHTSTEELBLUE=s(l.fromCssColorString("#B0C4DE")),l.LIGHTYELLOW=s(l.fromCssColorString("#FFFFE0")),l.LIME=s(l.fromCssColorString("#00FF00")),l.LIMEGREEN=s(l.fromCssColorString("#32CD32")),l.LINEN=s(l.fromCssColorString("#FAF0E6")),l.MAGENTA=s(l.fromCssColorString("#FF00FF")),l.MAROON=s(l.fromCssColorString("#800000")),l.MEDIUMAQUAMARINE=s(l.fromCssColorString("#66CDAA")),l.MEDIUMBLUE=s(l.fromCssColorString("#0000CD")),l.MEDIUMORCHID=s(l.fromCssColorString("#BA55D3")),l.MEDIUMPURPLE=s(l.fromCssColorString("#9370DB")),l.MEDIUMSEAGREEN=s(l.fromCssColorString("#3CB371")),l.MEDIUMSLATEBLUE=s(l.fromCssColorString("#7B68EE")),l.MEDIUMSPRINGGREEN=s(l.fromCssColorString("#00FA9A")),l.MEDIUMTURQUOISE=s(l.fromCssColorString("#48D1CC")),l.MEDIUMVIOLETRED=s(l.fromCssColorString("#C71585")),l.MIDNIGHTBLUE=s(l.fromCssColorString("#191970")),l.MINTCREAM=s(l.fromCssColorString("#F5FFFA")),l.MISTYROSE=s(l.fromCssColorString("#FFE4E1")),l.MOCCASIN=s(l.fromCssColorString("#FFE4B5")),l.NAVAJOWHITE=s(l.fromCssColorString("#FFDEAD")),l.NAVY=s(l.fromCssColorString("#000080")),l.OLDLACE=s(l.fromCssColorString("#FDF5E6")),l.OLIVE=s(l.fromCssColorString("#808000")),l.OLIVEDRAB=s(l.fromCssColorString("#6B8E23")),l.ORANGE=s(l.fromCssColorString("#FFA500")),l.ORANGERED=s(l.fromCssColorString("#FF4500")),l.ORCHID=s(l.fromCssColorString("#DA70D6")),l.PALEGOLDENROD=s(l.fromCssColorString("#EEE8AA")),l.PALEGREEN=s(l.fromCssColorString("#98FB98")),l.PALETURQUOISE=s(l.fromCssColorString("#AFEEEE")),l.PALEVIOLETRED=s(l.fromCssColorString("#DB7093")),l.PAPAYAWHIP=s(l.fromCssColorString("#FFEFD5")),l.PEACHPUFF=s(l.fromCssColorString("#FFDAB9")),l.PERU=s(l.fromCssColorString("#CD853F")),l.PINK=s(l.fromCssColorString("#FFC0CB")),l.PLUM=s(l.fromCssColorString("#DDA0DD")),l.POWDERBLUE=s(l.fromCssColorString("#B0E0E6")),l.PURPLE=s(l.fromCssColorString("#800080")),l.RED=s(l.fromCssColorString("#FF0000")),l.ROSYBROWN=s(l.fromCssColorString("#BC8F8F")),l.ROYALBLUE=s(l.fromCssColorString("#4169E1")),l.SADDLEBROWN=s(l.fromCssColorString("#8B4513")),l.SALMON=s(l.fromCssColorString("#FA8072")),l.SANDYBROWN=s(l.fromCssColorString("#F4A460")),l.SEAGREEN=s(l.fromCssColorString("#2E8B57")),l.SEASHELL=s(l.fromCssColorString("#FFF5EE")),l.SIENNA=s(l.fromCssColorString("#A0522D")),l.SILVER=s(l.fromCssColorString("#C0C0C0")),l.SKYBLUE=s(l.fromCssColorString("#87CEEB")),l.SLATEBLUE=s(l.fromCssColorString("#6A5ACD")),l.SLATEGRAY=s(l.fromCssColorString("#708090")),l.SLATEGREY=l.SLATEGRAY,l.SNOW=s(l.fromCssColorString("#FFFAFA")),l.SPRINGGREEN=s(l.fromCssColorString("#00FF7F")),l.STEELBLUE=s(l.fromCssColorString("#4682B4")),l.TAN=s(l.fromCssColorString("#D2B48C")),l.TEAL=s(l.fromCssColorString("#008080")),l.THISTLE=s(l.fromCssColorString("#D8BFD8")),l.TOMATO=s(l.fromCssColorString("#FF6347")),l.TURQUOISE=s(l.fromCssColorString("#40E0D0")),l.VIOLET=s(l.fromCssColorString("#EE82EE")),l.WHEAT=s(l.fromCssColorString("#F5DEB3")),l.WHITE=s(l.fromCssColorString("#FFFFFF")),l.WHITESMOKE=s(l.fromCssColorString("#F5F5F5")),l.YELLOW=s(l.fromCssColorString("#FFFF00")),l.YELLOWGREEN=s(l.fromCssColorString("#9ACD32")),l.TRANSPARENT=s(new l(0,0,0,0)),l});