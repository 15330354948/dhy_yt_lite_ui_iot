define(["./Cartesian3","./Cartesian4","./CullingVolume","./defaultValue","./defined","./defineProperties","./DeveloperError","./Math","./Matrix4"],function(t,e,i,r,o,n,a,s,h){"use strict";function f(t){t=r(t,r.EMPTY_OBJECT),this.left=t.left,this._left=void 0,this.right=t.right,this._right=void 0,this.top=t.top,this._top=void 0,this.bottom=t.bottom,this._bottom=void 0,this.near=r(t.near,1),this._near=this.near,this.far=r(t.far,5e8),this._far=this.far,this._cullingVolume=new i,this._perspectiveMatrix=new h,this._infinitePerspective=new h}function l(t){if(!(o(t.right)&&o(t.left)&&o(t.top)&&o(t.bottom)&&o(t.near)&&o(t.far)))throw new a("right, left, top, bottom, near, or far parameters are not set.");var e=t.top,i=t.bottom,r=t.right,n=t.left,s=t.near,f=t.far;if(e!==t._top||i!==t._bottom||n!==t._left||r!==t._right||s!==t._near||f!==t._far){if(t.near<=0||t.near>t.far)throw new a("near must be greater than zero and less than far.");t._left=n,t._right=r,t._top=e,t._bottom=i,t._near=s,t._far=f,t._perspectiveMatrix=h.computePerspectiveOffCenter(n,r,i,e,s,f,t._perspectiveMatrix),t._infinitePerspective=h.computeInfinitePerspectiveOffCenter(n,r,i,e,s,t._infinitePerspective)}}n(f.prototype,{projectionMatrix:{get:function(){return l(this),this._perspectiveMatrix}},infiniteProjectionMatrix:{get:function(){return l(this),this._infinitePerspective}}});var u=new t,p=new t,c=new t,d=new t;return f.prototype.computeCullingVolume=function(i,r,n){if(!o(i))throw new a("position is required.");if(!o(r))throw new a("direction is required.");if(!o(n))throw new a("up is required.");var s=this._cullingVolume.planes,h=this.top,f=this.bottom,l=this.right,w=this.left,m=this.near,_=this.far,g=t.cross(r,n,u),y=p;t.multiplyByScalar(r,m,y),t.add(i,y,y);var v=c;t.multiplyByScalar(r,_,v),t.add(i,v,v);var b=d;t.multiplyByScalar(g,w,b),t.add(y,b,b),t.subtract(b,i,b),t.normalize(b,b),t.cross(b,n,b),t.normalize(b,b);var x=s[0];return o(x)||(x=s[0]=new e),x.x=b.x,x.y=b.y,x.z=b.z,x.w=-t.dot(b,i),t.multiplyByScalar(g,l,b),t.add(y,b,b),t.subtract(b,i,b),t.cross(n,b,b),t.normalize(b,b),x=s[1],o(x)||(x=s[1]=new e),x.x=b.x,x.y=b.y,x.z=b.z,x.w=-t.dot(b,i),t.multiplyByScalar(n,f,b),t.add(y,b,b),t.subtract(b,i,b),t.cross(g,b,b),t.normalize(b,b),x=s[2],o(x)||(x=s[2]=new e),x.x=b.x,x.y=b.y,x.z=b.z,x.w=-t.dot(b,i),t.multiplyByScalar(n,h,b),t.add(y,b,b),t.subtract(b,i,b),t.cross(b,g,b),t.normalize(b,b),x=s[3],o(x)||(x=s[3]=new e),x.x=b.x,x.y=b.y,x.z=b.z,x.w=-t.dot(b,i),x=s[4],o(x)||(x=s[4]=new e),x.x=r.x,x.y=r.y,x.z=r.z,x.w=-t.dot(r,y),t.negate(r,b),x=s[5],o(x)||(x=s[5]=new e),x.x=b.x,x.y=b.y,x.z=b.z,x.w=-t.dot(b,v),this._cullingVolume},f.prototype.getPixelDimensions=function(t,e,i,r){if(l(this),!o(t)||!o(e))throw new a("Both drawingBufferWidth and drawingBufferHeight are required.");if(t<=0)throw new a("drawingBufferWidth must be greater than zero.");if(e<=0)throw new a("drawingBufferHeight must be greater than zero.");if(!o(i))throw new a("distance is required.");if(!o(r))throw new a("A result object is required.");var n=1/this.near,s=this.top*n,h=2*i*s/e,f=2*i*(s=this.right*n)/t;return r.x=f,r.y=h,r},f.prototype.clone=function(t){return o(t)||(t=new f),t.right=this.right,t.left=this.left,t.top=this.top,t.bottom=this.bottom,t.near=this.near,t.far=this.far,t._left=void 0,t._right=void 0,t._top=void 0,t._bottom=void 0,t._near=void 0,t._far=void 0,t},f.prototype.equals=function(t){return o(t)&&t instanceof f&&this.right===t.right&&this.left===t.left&&this.top===t.top&&this.bottom===t.bottom&&this.near===t.near&&this.far===t.far},f.prototype.equalsEpsilon=function(t,e,i){return t===this||o(t)&&t instanceof f&&s.equalsEpsilon(this.right,t.right,e,i)&&s.equalsEpsilon(this.left,t.left,e,i)&&s.equalsEpsilon(this.top,t.top,e,i)&&s.equalsEpsilon(this.bottom,t.bottom,e,i)&&s.equalsEpsilon(this.near,t.near,e,i)&&s.equalsEpsilon(this.far,t.far,e,i)},f});