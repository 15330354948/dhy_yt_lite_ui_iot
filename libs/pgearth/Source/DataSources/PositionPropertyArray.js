define(["../Core/defaultValue","../Core/defined","../Core/defineProperties","../Core/DeveloperError","../Core/Event","../Core/EventHelper","../Core/ReferenceFrame","./Property"],function(e,r,t,n,i,a,o,f){"use strict";function s(r,t){this._value=void 0,this._definitionChanged=new i,this._eventHelper=new a,this._referenceFrame=e(t,o.FIXED),this.setValue(r)}return t(s.prototype,{isConstant:{get:function(){var e=this._value;if(!r(e))return!0;for(var t=e.length,n=0;n<t;n++)if(!f.isConstant(e[n]))return!1;return!0}},definitionChanged:{get:function(){return this._definitionChanged}},referenceFrame:{get:function(){return this._referenceFrame}}}),s.prototype.getValue=function(e,r){return this.getValueInReferenceFrame(e,o.FIXED,r)},s.prototype.getValueInReferenceFrame=function(e,t,i){if(!r(e))throw new n("time is required.");if(!r(t))throw new n("referenceFrame is required.");var a=this._value;if(r(a)){var o=a.length;r(i)||(i=new Array(o));for(var f=0,s=0;f<o;){var u=a[f].getValueInReferenceFrame(e,t,i[f]);r(u)&&(i[s]=u,s++),f++}return i.length=s,i}},s.prototype.setValue=function(e){var t=this._eventHelper;if(t.removeAll(),r(e)){this._value=e.slice();for(var n=e.length,i=0;i<n;i++){var a=e[i];r(a)&&t.add(a.definitionChanged,s.prototype._raiseDefinitionChanged,this)}}else this._value=void 0;this._definitionChanged.raiseEvent(this)},s.prototype.equals=function(e){return this===e||e instanceof s&&this._referenceFrame===e._referenceFrame&&f.arrayEquals(this._value,e._value)},s.prototype._raiseDefinitionChanged=function(){this._definitionChanged.raiseEvent(this)},s});