define(["../../Source/Core/defined","../../Source/Core/defaultValue","../../Source/Scene/GridImageryProvider","../../Source/Core/Color","../../Source/Widgets/Viewer/Viewer","../../Source/Core/EventHelper","../../Source/Scene/UrlTemplateImageryProvider","../../Source/Scene/CameraEventType","../../Source/Core/ScreenSpaceEventType","../../Source/Core/Cartesian3","../../Source/Core/Rectangle","../../Source/Core/Math","../others/Graphics","../widgets/PopupTemplate/PopupTemplate","../_Map","../widgets/Geocoder/Geocoder"],function(e,r,o,n,t,a,i,c,s,l,d,m,p,u,g,h){return function(d){e(d.container)||new Error("container is required"),d.animation=r(d.animation,!1),d.baseLayerPicker=r(d.baseLayerPicker,!1),d.fullscreenButton=r(d.fullscreenButton,!1),d.geocoder=r(!1),d.homeButton=r(d.homeButton,!1),d.infoBox=r(d.infoBox,!1),d.sceneModePicker=r(d.sceneModePicker,!1),d.selectionIndicator=r(d.selectionIndicator,!1),d.timeline=r(d.timeline,!1),d.navigationHelpButton=r(d.navigationHelpButton,!1),d.navigationInstructionsInitiallyVisible=r(d.navigationInstructionsInitiallyVisible,!1),d.showRenderLoopErrors=r(d.showRenderLoopErrors,!0),d.scene3DOnly=r(d.scene3DOnly,!0),d.requestRenderMode=r(d.requestRenderMode,!0),d.fullscreenElement=r(d.fullscreenElement,document.body),d.imageryProvider=new o({cells:14,glowColor:n.WHITE,glowWidth:.5,color:n.fromCssColorString("#fffbf4"),backgroundColor:n.fromCssColorString("#e5dfd3")});var C,v=this;if(this.__proto__=t.prototype,t.call(v,d.container,d),this._bottomContainer.remove(),v.scene.screenSpaceCameraController.minimumZoomDistance=1,v.scene.screenSpaceCameraController.maximumZoomDistance=22e6,d.geocoder=d.search,e(d.geocoder)&&!1!==d.geocoder.enabled&&e(d.geocoder.params)&&d.geocoder.params.length>0){var y=new a,S=document.createElement("div");S.className="libras-viewer-toolbar",v._element.appendChild(S);var f=document.createElement("div");f.className="libras-viewer-geocoderContainer",S.appendChild(f),C=new h({container:f,geocoderServices:d.geocoder.params,scene:v.scene}),y.add(C.viewModel.search.beforeExecute,t.prototype._clearObjects,this),this._geocoder=C}e(d.baseMap)?this.imageryLayers.addImageryProvider(d.baseMap):this.imageryLayers.addImageryProvider(new i({url:"http://mt1.google.cn/vt/lyrs=s&hl=zh-CN&x={x}&y={y}&z={z}&s=Gali"})),this.scene.screenSpaceCameraController.zoomEventTypes=[c.WHEEL,c.MIDDLE_DRAG,c.PINCH],this.scene.screenSpaceCameraController.tiltEventTypes=[c.RIGHT_DRAG],this.pgEarthWidget.screenSpaceEventHandler.removeInputAction(s.LEFT_DOUBLE_CLICK),this.graphics=new p,this.map=new g(v),this.popupTemplate=new u({viewer:v}),this.camera.setView({destination:l.fromDegrees(d.center&&d.center[0]||110,d.center&&d.center[1]||33,d.center&&d.center[2]||1e7)}),this.goTo=function(e){v.camera.flyTo({destination:l.fromDegrees(e.center[0],e.center[1],e.center[2]),orientation:{heading:m.toRadians(r(e.heading,0)),pitch:m.toRadians(r(e.pitch,-90)),roll:m.toRadians(r(e.roll,0))},duration:e.duration||3})}}});