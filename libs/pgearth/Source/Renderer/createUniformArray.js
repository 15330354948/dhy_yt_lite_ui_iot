define(["../Core/Cartesian2","../Core/Cartesian3","../Core/Cartesian4","../Core/Color","../Core/defined","../Core/DeveloperError","../Core/Matrix2","../Core/Matrix3","../Core/Matrix4","../Core/RuntimeError"],function(t,e,r,a,i,n,s,o,l,h){"use strict";function u(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(i),this._gl=t,this._location=a[0]}function v(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(2*i),this._gl=t,this._location=a[0]}function _(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(3*i),this._gl=t,this._location=a[0]}function c(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(4*i),this._gl=t,this._location=a[0]}function f(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(i),this._gl=t,this._locations=a,this.textureUnitIndex=void 0}function g(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Int32Array(i),this._gl=t,this._location=a[0]}function y(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Int32Array(2*i),this._gl=t,this._location=a[0]}function A(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Int32Array(3*i),this._gl=t,this._location=a[0]}function w(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Int32Array(4*i),this._gl=t,this._location=a[0]}function p(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(4*i),this._gl=t,this._location=a[0]}function m(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(9*i),this._gl=t,this._location=a[0]}function C(t,e,r,a){var i=a.length;this.name=r,this.value=new Array(i),this._value=new Float32Array(16*i),this._gl=t,this._location=a[0]}return u.prototype.set=function(){for(var t=this.value,e=t.length,r=this._value,a=!1,i=0;i<e;++i){var n=t[i];n!==r[i]&&(r[i]=n,a=!0)}a&&this._gl.uniform1fv(this._location,r)},v.prototype.set=function(){for(var e=this.value,r=e.length,a=this._value,i=!1,n=0,s=0;s<r;++s){var o=e[s];t.equalsArray(o,a,n)||(t.pack(o,a,n),i=!0),n+=2}i&&this._gl.uniform2fv(this._location,a)},_.prototype.set=function(){for(var t=this.value,r=t.length,a=this._value,s=!1,o=0,l=0;l<r;++l){var h=t[l];if(i(h.red))h.red===a[o]&&h.green===a[o+1]&&h.blue===a[o+2]||(a[o]=h.red,a[o+1]=h.green,a[o+2]=h.blue,s=!0);else{if(!i(h.x))throw new n("Invalid vec3 value.");e.equalsArray(h,a,o)||(e.pack(h,a,o),s=!0)}o+=3}s&&this._gl.uniform3fv(this._location,a)},c.prototype.set=function(){for(var t=this.value,e=t.length,s=this._value,o=!1,l=0,h=0;h<e;++h){var u=t[h];if(i(u.red))a.equalsArray(u,s,l)||(a.pack(u,s,l),o=!0);else{if(!i(u.x))throw new n("Invalid vec4 value.");r.equalsArray(u,s,l)||(r.pack(u,s,l),o=!0)}l+=4}o&&this._gl.uniform4fv(this._location,s)},f.prototype.set=function(){for(var t=this._gl,e=t.TEXTURE0+this.textureUnitIndex,r=this.value,a=r.length,i=0;i<a;++i){var n=r[i];t.activeTexture(e+i),t.bindTexture(n._target,n._texture)}},f.prototype._setSampler=function(t){this.textureUnitIndex=t;for(var e=this._locations,r=e.length,a=0;a<r;++a){var i=t+a;this._gl.uniform1i(e[a],i)}return t+r},g.prototype.set=function(){for(var t=this.value,e=t.length,r=this._value,a=!1,i=0;i<e;++i){var n=t[i];n!==r[i]&&(r[i]=n,a=!0)}a&&this._gl.uniform1iv(this._location,r)},y.prototype.set=function(){for(var e=this.value,r=e.length,a=this._value,i=!1,n=0,s=0;s<r;++s){var o=e[s];t.equalsArray(o,a,n)||(t.pack(o,a,n),i=!0),n+=2}i&&this._gl.uniform2iv(this._location,a)},A.prototype.set=function(){for(var t=this.value,r=t.length,a=this._value,i=!1,n=0,s=0;s<r;++s){var o=t[s];e.equalsArray(o,a,n)||(e.pack(o,a,n),i=!0),n+=3}i&&this._gl.uniform3iv(this._location,a)},w.prototype.set=function(){for(var t=this.value,e=t.length,a=this._value,i=!1,n=0,s=0;s<e;++s){var o=t[s];r.equalsArray(o,a,n)||(r.pack(o,a,n),i=!0),n+=4}i&&this._gl.uniform4iv(this._location,a)},p.prototype.set=function(){for(var t=this.value,e=t.length,r=this._value,a=!1,i=0,n=0;n<e;++n){var o=t[n];s.equalsArray(o,r,i)||(s.pack(o,r,i),a=!0),i+=4}a&&this._gl.uniformMatrix2fv(this._location,!1,r)},m.prototype.set=function(){for(var t=this.value,e=t.length,r=this._value,a=!1,i=0,n=0;n<e;++n){var s=t[n];o.equalsArray(s,r,i)||(o.pack(s,r,i),a=!0),i+=9}a&&this._gl.uniformMatrix3fv(this._location,!1,r)},C.prototype.set=function(){for(var t=this.value,e=t.length,r=this._value,a=!1,i=0,n=0;n<e;++n){var s=t[n];l.equalsArray(s,r,i)||(l.pack(s,r,i),a=!0),i+=16}a&&this._gl.uniformMatrix4fv(this._location,!1,r)},function(t,e,r,a){switch(e.type){case t.FLOAT:return new u(t,e,r,a);case t.FLOAT_VEC2:return new v(t,e,r,a);case t.FLOAT_VEC3:return new _(t,e,r,a);case t.FLOAT_VEC4:return new c(t,e,r,a);case t.SAMPLER_2D:case t.SAMPLER_CUBE:return new f(t,e,r,a);case t.INT:case t.BOOL:return new g(t,e,r,a);case t.INT_VEC2:case t.BOOL_VEC2:return new y(t,e,r,a);case t.INT_VEC3:case t.BOOL_VEC3:return new A(t,e,r,a);case t.INT_VEC4:case t.BOOL_VEC4:return new w(t,e,r,a);case t.FLOAT_MAT2:return new p(t,e,r,a);case t.FLOAT_MAT3:return new m(t,e,r,a);case t.FLOAT_MAT4:return new C(t,e,r,a);default:throw new h("Unrecognized uniform type: "+e.type+' for uniform "'+r+'".')}}});