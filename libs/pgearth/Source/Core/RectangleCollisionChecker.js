define(["../ThirdParty/rbush","./Check"],function(t,e){"use strict";function n(){this._tree=t()}function r(){this.minX=0,this.minY=0,this.maxX=0,this.maxY=0,this.id=""}function i(t,e){return t.id===e.id}r.fromRectangleAndId=function(t,e,n){return n.minX=e.west,n.minY=e.south,n.maxX=e.east,n.maxY=e.north,n.id=t,n},n.prototype.insert=function(t,n){e.typeOf.string("id",t),e.typeOf.object("rectangle",n);var i=r.fromRectangleAndId(t,n,new r);this._tree.insert(i)};var o=new r;n.prototype.remove=function(t,n){e.typeOf.string("id",t),e.typeOf.object("rectangle",n);var c=r.fromRectangleAndId(t,n,o);this._tree.remove(c,i)};var c=new r;return n.prototype.collides=function(t){e.typeOf.object("rectangle",t);var n=r.fromRectangleAndId("",t,c);return this._tree.collides(n)},n});