define(["../Core/ArcType","../Core/Cartesian3","../Core/Color","../Core/defaultValue","../Core/defined","../Core/destroyObject","../Core/GeometryInstance","../Core/Matrix4","../Core/PolylineGeometry","./PolylineColorAppearance","./Primitive"],function(i,t,e,r,o,h,s,d,n,l,m){"use strict";function a(i){i=r(i,r.EMPTY_OBJECT),this.length=r(i.length,1e7),this._length=void 0,this.width=r(i.width,2),this._width=void 0,this.show=r(i.show,!0),this.modelMatrix=d.clone(r(i.modelMatrix,d.IDENTITY)),this._modelMatrix=new d,this.id=i.id,this._id=void 0,this._primitive=void 0}return a.prototype.update=function(r){if(this.show){if(!o(this._primitive)||!d.equals(this._modelMatrix,this.modelMatrix)||this._length!==this.length||this._width!==this.width||this._id!==this.id){this._modelMatrix=d.clone(this.modelMatrix,this._modelMatrix),this._length=this.length,this._width=this.width,this._id=this.id,o(this._primitive)&&this._primitive.destroy(),0===this.modelMatrix[12]&&0===this.modelMatrix[13]&&0===this.modelMatrix[14]&&(this.modelMatrix[14]=.01);var h=new s({geometry:new n({positions:[t.ZERO,t.UNIT_X],width:this.width,vertexFormat:l.VERTEX_FORMAT,colors:[e.RED,e.RED],arcType:i.NONE}),modelMatrix:d.multiplyByUniformScale(this.modelMatrix,this.length,new d),id:this.id,pickPrimitive:this}),a=new s({geometry:new n({positions:[t.ZERO,t.UNIT_Y],width:this.width,vertexFormat:l.VERTEX_FORMAT,colors:[e.GREEN,e.GREEN],arcType:i.NONE}),modelMatrix:d.multiplyByUniformScale(this.modelMatrix,this.length,new d),id:this.id,pickPrimitive:this}),p=new s({geometry:new n({positions:[t.ZERO,t.UNIT_Z],width:this.width,vertexFormat:l.VERTEX_FORMAT,colors:[e.BLUE,e.BLUE],arcType:i.NONE}),modelMatrix:d.multiplyByUniformScale(this.modelMatrix,this.length,new d),id:this.id,pickPrimitive:this});this._primitive=new m({geometryInstances:[h,a,p],appearance:new l,asynchronous:!1})}this._primitive.update(r)}},a.prototype.isDestroyed=function(){return!1},a.prototype.destroy=function(){return this._primitive=this._primitive&&this._primitive.destroy(),h(this)},a});