define(["../Core/defaultValue","../Core/defined","../Core/defineProperties","../Core/destroyObject","../Core/DeveloperError","../Core/Event","../Core/Math","../ThirdParty/when"],function(t,e,r,o,a,i,n,s){"use strict";function d(){this._dataSources=[],this._dataSourceAdded=new i,this._dataSourceRemoved=new i,this._dataSourceMoved=new i}function u(t,r){if(!e(r))throw new a("dataSource is required.");var o=t.indexOf(r);if(-1===o)throw new a("dataSource is not in this collection.");return o}function c(t,e,r){var o=t._dataSources,a=o.length-1;if((e=n.clamp(e,0,a))!==(r=n.clamp(r,0,a))){var i=o[e];o[e]=o[r],o[r]=i,t.dataSourceMoved.raiseEvent(i,r,e)}}return r(d.prototype,{length:{get:function(){return this._dataSources.length}},dataSourceAdded:{get:function(){return this._dataSourceAdded}},dataSourceRemoved:{get:function(){return this._dataSourceRemoved}},dataSourceMoved:{get:function(){return this._dataSourceMoved}}}),d.prototype.add=function(t){if(!e(t))throw new a("dataSource is required.");var r=this,o=this._dataSources;return s(t,function(t){return o===r._dataSources&&(r._dataSources.push(t),r._dataSourceAdded.raiseEvent(r,t)),t})},d.prototype.remove=function(e,r){r=t(r,!1);var o=this._dataSources.indexOf(e);return-1!==o&&(this._dataSources.splice(o,1),this._dataSourceRemoved.raiseEvent(this,e),r&&"function"==typeof e.destroy&&e.destroy(),!0)},d.prototype.removeAll=function(e){e=t(e,!1);for(var r=this._dataSources,o=0,a=r.length;o<a;++o){var i=r[o];this._dataSourceRemoved.raiseEvent(this,i),e&&"function"==typeof i.destroy&&i.destroy()}this._dataSources=[]},d.prototype.contains=function(t){return-1!==this.indexOf(t)},d.prototype.indexOf=function(t){return this._dataSources.indexOf(t)},d.prototype.get=function(t){if(!e(t))throw new a("index is required.");return this._dataSources[t]},d.prototype.raise=function(t){var e=u(this._dataSources,t);c(this,e,e+1)},d.prototype.lower=function(t){var e=u(this._dataSources,t);c(this,e,e-1)},d.prototype.raiseToTop=function(t){var e=u(this._dataSources,t);e!==this._dataSources.length-1&&(this._dataSources.splice(e,1),this._dataSources.push(t),this.dataSourceMoved.raiseEvent(t,this._dataSources.length-1,e))},d.prototype.lowerToBottom=function(t){var e=u(this._dataSources,t);0!==e&&(this._dataSources.splice(e,1),this._dataSources.splice(0,0,t),this.dataSourceMoved.raiseEvent(t,0,e))},d.prototype.isDestroyed=function(){return!1},d.prototype.destroy=function(){return this.removeAll(!0),o(this)},d});