define(["./Check","./defaultValue","./defined","./Math"],function(e,n,t,r){"use strict";var i=r.EPSILON10;return function(r,f,u){if(e.defined("equalsEpsilon",f),t(r)){u=n(u,!1);var l,h,s,a=r.length;if(a<2)return r;for(l=1;l<a&&!f(h=r[l-1],s=r[l],i);++l);if(l===a)return u&&f(r[0],r[r.length-1],i)?r.slice(1):r;for(var c=r.slice(0,l);l<a;++l)f(h,s=r[l],i)||(c.push(s),h=s);return u&&c.length>1&&f(c[0],c[c.length-1],i)&&c.shift(),c}}});