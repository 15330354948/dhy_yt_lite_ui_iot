define(["../Core/ColorGeometryInstanceAttribute","../Core/defaultValue","../Core/defined","../Core/DeveloperError","../Core/GeometryInstance","../Core/GeometryPipeline","../Core/Matrix4","./PerInstanceColorAppearance","./Primitive"],function(e,t,r,n,o,a,i,s,c){"use strict";return function(m){var l=[],u=(m=t(m,t.EMPTY_OBJECT)).geometry;if(!r(u))throw new n("options.geometry is required.");r(u.attributes)&&r(u.primitiveType)||(u=u.constructor.createGeometry(u));var g=u.attributes,p=i.clone(t(m.modelMatrix,i.IDENTITY)),y=t(m.length,1e4);if(r(g.normal)&&l.push(new o({geometry:a.createLineSegmentsForVectors(u,"normal",y),attributes:{color:new e(1,0,0,1)},modelMatrix:p})),r(g.tangent)&&l.push(new o({geometry:a.createLineSegmentsForVectors(u,"tangent",y),attributes:{color:new e(0,1,0,1)},modelMatrix:p})),r(g.bitangent)&&l.push(new o({geometry:a.createLineSegmentsForVectors(u,"bitangent",y),attributes:{color:new e(0,0,1,1)},modelMatrix:p})),l.length>0)return new c({asynchronous:!1,geometryInstances:l,appearance:new s({flat:!0,translucent:!1})})}});