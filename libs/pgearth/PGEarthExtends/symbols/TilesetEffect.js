var TILE_EFFECT_STAYE=false;var TILE_FS_BODY=undefined;define(["../../Source/Core/defined","../../Source/Scene/ModelUtility","../../Source/Renderer/ShaderSource",],function(b,d,c){function a(){TILE_EFFECT_STAYE=true;TILE_FS_BODY="float stc_pl = fract(czm_frameNumber / 120.0) * 3.14159265 * 2.0;"+"float stc_sd = v_stcVertex.z / 320.0 + sin(stc_pl) * 0.1;"+"gl_FragColor *= vec4(stc_sd, stc_sd, stc_sd, 1.0);"+"float stc_a13 = fract(czm_frameNumber / 360.0);"+"float stc_h = clamp(v_stcVertex.z / 450.0, 0.0, 1.0);"+"stc_a13 = abs(stc_a13 - 0.5) * 2.0;"+"float stc_diff = step(0.005, abs(stc_h - stc_a13));"+"gl_FragColor.rgb += gl_FragColor.rgb * (1.0 - stc_diff);";d.updateForwardAxis=function(e){this._model=e;var f=e.gltf.extras.sourceVersion};d.modifyFragmentShaderForLogDepth=function(f){var e=![];if(TILE_EFFECT_STAYE&&this._model&&this._model._resource._url.indexOf("b3dm")!==-1){e=!![]}f=c.replaceMain(f,"czm_depth_main");if(e){f+="     varying vec3 v_stcVertex;\n"+"                void main(){\n"+"                    czm_depth_main();\n"+TILE_FS_BODY+" czm_writeLogDepth();\n"+"                }"}else{f+="varying vec3 v_stcVertex;\n"+"                    void main(){\n"+"                        czm_depth_main();\n"+"                        czm_writeLogDepth();\n"+"                    }"}return f};d.modifyVertexShaderForLogDepth=function(f,e){f=c.replaceMain(f,"czm_depth_main");f+="\x0a"+"varying vec3 v_stcVertex;"+"void main() "+"{ "+" czm_depth_main(); "+"v_stcVertex = a_position;"+"  czm_vertexLogDepth("+e+"); "+"} ";return f}}a.prototype.destroy=function(){TILE_EFFECT_STAYE=false;TILE_FS_BODY=undefined};return a});
