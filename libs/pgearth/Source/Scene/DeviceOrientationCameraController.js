define(["../Core/defined","../Core/destroyObject","../Core/DeveloperError","../Core/Math","../Core/Matrix3","../Core/Quaternion"],function(t,a,i,e,s,o){"use strict";function r(a){if(!t(a))throw new i("scene is required.");this._scene=a,this._lastAlpha=void 0,this._lastBeta=void 0,this._lastGamma=void 0,this._alpha=void 0,this._beta=void 0,this._gamma=void 0;var s=this;function o(a){var i=a.alpha;if(!t(i))return s._alpha=void 0,s._beta=void 0,void(s._gamma=void 0);s._alpha=e.toRadians(i),s._beta=e.toRadians(a.beta),s._gamma=e.toRadians(a.gamma)}window.addEventListener("deviceorientation",o,!1),this._removeListener=function(){window.removeEventListener("deviceorientation",o,!1)}}var n=new o,h=new o,l=new s;return r.prototype.update=function(){if(t(this._alpha)){t(this._lastAlpha)||(this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma);var a=this._lastAlpha-this._alpha,i=this._lastBeta-this._beta,e=this._lastGamma-this._gamma;!function(t,a,i,e){var r=t.direction,_=t.right,m=t.up,d=o.fromAxisAngle(r,i,h),p=o.fromAxisAngle(_,e,n),v=o.multiply(p,d,p),u=o.fromAxisAngle(m,a,h);o.multiply(u,v,v);var c=s.fromQuaternion(v,l);s.multiplyByVector(c,_,_),s.multiplyByVector(c,m,m),s.multiplyByVector(c,r,r)}(this._scene.camera,-a,i,e),this._lastAlpha=this._alpha,this._lastBeta=this._beta,this._lastGamma=this._gamma}},r.prototype.isDestroyed=function(){return!1},r.prototype.destroy=function(){return this._removeListener(),a(this)},r});