define(["./Cartographic","./Check","./defaultValue","./defined","./defineProperties","./Ellipsoid","./freezeObject","./Math"],function(t,e,n,a,r,o,s,u){"use strict";function i(t,e,a,r){this.west=n(t,0),this.south=n(e,0),this.east=n(a,0),this.north=n(r,0)}r(i.prototype,{width:{get:function(){return i.computeWidth(this)}},height:{get:function(){return i.computeHeight(this)}}}),i.packedLength=4,i.pack=function(t,a,r){return e.typeOf.object("value",t),e.defined("array",a),r=n(r,0),a[r++]=t.west,a[r++]=t.south,a[r++]=t.east,a[r]=t.north,a},i.unpack=function(t,r,o){return e.defined("array",t),r=n(r,0),a(o)||(o=new i),o.west=t[r++],o.south=t[r++],o.east=t[r++],o.north=t[r],o},i.computeWidth=function(t){e.typeOf.object("rectangle",t);var n=t.east,a=t.west;return n<a&&(n+=u.TWO_PI),n-a},i.computeHeight=function(t){return e.typeOf.object("rectangle",t),t.north-t.south},i.fromDegrees=function(t,e,r,o,s){return t=u.toRadians(n(t,0)),e=u.toRadians(n(e,0)),r=u.toRadians(n(r,0)),o=u.toRadians(n(o,0)),a(s)?(s.west=t,s.south=e,s.east=r,s.north=o,s):new i(t,e,r,o)},i.fromRadians=function(t,e,r,o,s){return a(s)?(s.west=n(t,0),s.south=n(e,0),s.east=n(r,0),s.north=n(o,0),s):new i(t,e,r,o)},i.fromCartographicArray=function(t,n){e.defined("cartographics",t);for(var r=Number.MAX_VALUE,o=-Number.MAX_VALUE,s=Number.MAX_VALUE,h=-Number.MAX_VALUE,c=Number.MAX_VALUE,l=-Number.MAX_VALUE,g=0,f=t.length;g<f;g++){var O=t[g];r=Math.min(r,O.longitude),o=Math.max(o,O.longitude),c=Math.min(c,O.latitude),l=Math.max(l,O.latitude);var p=O.longitude>=0?O.longitude:O.longitude+u.TWO_PI;s=Math.min(s,p),h=Math.max(h,p)}return o-r>h-s&&(r=s,(o=h)>u.PI&&(o-=u.TWO_PI),r>u.PI&&(r-=u.TWO_PI)),a(n)?(n.west=r,n.south=c,n.east=o,n.north=l,n):new i(r,c,o,l)},i.fromCartesianArray=function(t,r,s){e.defined("cartesians",t),r=n(r,o.WGS84);for(var h=Number.MAX_VALUE,c=-Number.MAX_VALUE,l=Number.MAX_VALUE,g=-Number.MAX_VALUE,f=Number.MAX_VALUE,O=-Number.MAX_VALUE,p=0,d=t.length;p<d;p++){var m=r.cartesianToCartographic(t[p]);h=Math.min(h,m.longitude),c=Math.max(c,m.longitude),f=Math.min(f,m.latitude),O=Math.max(O,m.latitude);var w=m.longitude>=0?m.longitude:m.longitude+u.TWO_PI;l=Math.min(l,w),g=Math.max(g,w)}return c-h>g-l&&(h=l,(c=g)>u.PI&&(c-=u.TWO_PI),h>u.PI&&(h-=u.TWO_PI)),a(s)?(s.west=h,s.south=f,s.east=c,s.north=O,s):new i(h,f,c,O)},i.clone=function(t,e){if(a(t))return a(e)?(e.west=t.west,e.south=t.south,e.east=t.east,e.north=t.north,e):new i(t.west,t.south,t.east,t.north)},i.equalsEpsilon=function(t,n,r){return e.typeOf.number("absoluteEpsilon",r),t===n||a(t)&&a(n)&&Math.abs(t.west-n.west)<=r&&Math.abs(t.south-n.south)<=r&&Math.abs(t.east-n.east)<=r&&Math.abs(t.north-n.north)<=r},i.prototype.clone=function(t){return i.clone(this,t)},i.prototype.equals=function(t){return i.equals(this,t)},i.equals=function(t,e){return t===e||a(t)&&a(e)&&t.west===e.west&&t.south===e.south&&t.east===e.east&&t.north===e.north},i.prototype.equalsEpsilon=function(t,n){return e.typeOf.number("epsilon",n),i.equalsEpsilon(this,t,n)},i.validate=function(t){e.typeOf.object("rectangle",t);var n=t.north;e.typeOf.number.greaterThanOrEquals("north",n,-u.PI_OVER_TWO),e.typeOf.number.lessThanOrEquals("north",n,u.PI_OVER_TWO);var a=t.south;e.typeOf.number.greaterThanOrEquals("south",a,-u.PI_OVER_TWO),e.typeOf.number.lessThanOrEquals("south",a,u.PI_OVER_TWO);var r=t.west;e.typeOf.number.greaterThanOrEquals("west",r,-Math.PI),e.typeOf.number.lessThanOrEquals("west",r,Math.PI);var o=t.east;e.typeOf.number.greaterThanOrEquals("east",o,-Math.PI),e.typeOf.number.lessThanOrEquals("east",o,Math.PI)},i.southwest=function(n,r){return e.typeOf.object("rectangle",n),a(r)?(r.longitude=n.west,r.latitude=n.south,r.height=0,r):new t(n.west,n.south)},i.northwest=function(n,r){return e.typeOf.object("rectangle",n),a(r)?(r.longitude=n.west,r.latitude=n.north,r.height=0,r):new t(n.west,n.north)},i.northeast=function(n,r){return e.typeOf.object("rectangle",n),a(r)?(r.longitude=n.east,r.latitude=n.north,r.height=0,r):new t(n.east,n.north)},i.southeast=function(n,r){return e.typeOf.object("rectangle",n),a(r)?(r.longitude=n.east,r.latitude=n.south,r.height=0,r):new t(n.east,n.south)},i.center=function(n,r){e.typeOf.object("rectangle",n);var o=n.east,s=n.west;o<s&&(o+=u.TWO_PI);var i=u.negativePiToPi(.5*(s+o)),h=.5*(n.south+n.north);return a(r)?(r.longitude=i,r.latitude=h,r.height=0,r):new t(i,h)},i.intersection=function(t,n,r){e.typeOf.object("rectangle",t),e.typeOf.object("otherRectangle",n);var o=t.east,s=t.west,h=n.east,c=n.west;o<s&&h>0?o+=u.TWO_PI:h<c&&o>0&&(h+=u.TWO_PI),o<s&&c<0?c+=u.TWO_PI:h<c&&s<0&&(s+=u.TWO_PI);var l=u.negativePiToPi(Math.max(s,c)),g=u.negativePiToPi(Math.min(o,h));if(!((t.west<t.east||n.west<n.east)&&g<=l)){var f=Math.max(t.south,n.south),O=Math.min(t.north,n.north);if(!(f>=O))return a(r)?(r.west=l,r.south=f,r.east=g,r.north=O,r):new i(l,f,g,O)}},i.simpleIntersection=function(t,n,r){e.typeOf.object("rectangle",t),e.typeOf.object("otherRectangle",n);var o=Math.max(t.west,n.west),s=Math.max(t.south,n.south),u=Math.min(t.east,n.east),h=Math.min(t.north,n.north);if(!(s>=h||o>=u))return a(r)?(r.west=o,r.south=s,r.east=u,r.north=h,r):new i(o,s,u,h)},i.union=function(t,n,r){e.typeOf.object("rectangle",t),e.typeOf.object("otherRectangle",n),a(r)||(r=new i);var o=t.east,s=t.west,h=n.east,c=n.west;o<s&&h>0?o+=u.TWO_PI:h<c&&o>0&&(h+=u.TWO_PI),o<s&&c<0?c+=u.TWO_PI:h<c&&s<0&&(s+=u.TWO_PI);var l=u.convertLongitudeRange(Math.min(s,c)),g=u.convertLongitudeRange(Math.max(o,h));return r.west=l,r.south=Math.min(t.south,n.south),r.east=g,r.north=Math.max(t.north,n.north),r},i.expand=function(t,n,r){return e.typeOf.object("rectangle",t),e.typeOf.object("cartographic",n),a(r)||(r=new i),r.west=Math.min(t.west,n.longitude),r.south=Math.min(t.south,n.latitude),r.east=Math.max(t.east,n.longitude),r.north=Math.max(t.north,n.latitude),r},i.contains=function(t,n){e.typeOf.object("rectangle",t),e.typeOf.object("cartographic",n);var a=n.longitude,r=n.latitude,o=t.west,s=t.east;return s<o&&(s+=u.TWO_PI,a<0&&(a+=u.TWO_PI)),(a>o||u.equalsEpsilon(a,o,u.EPSILON14))&&(a<s||u.equalsEpsilon(a,s,u.EPSILON14))&&r>=t.south&&r<=t.north};var h=new t;return i.subsample=function(t,r,s,c){e.typeOf.object("rectangle",t),r=n(r,o.WGS84),s=n(s,0),a(c)||(c=[]);var l=0,g=t.north,f=t.south,O=t.east,p=t.west,d=h;d.height=s,d.longitude=p,d.latitude=g,c[l]=r.cartographicToCartesian(d,c[l]),l++,d.longitude=O,c[l]=r.cartographicToCartesian(d,c[l]),l++,d.latitude=f,c[l]=r.cartographicToCartesian(d,c[l]),l++,d.longitude=p,c[l]=r.cartographicToCartesian(d,c[l]),l++,d.latitude=g<0?g:f>0?f:0;for(var m=1;m<8;++m)d.longitude=-Math.PI+m*u.PI_OVER_TWO,i.contains(t,d)&&(c[l]=r.cartographicToCartesian(d,c[l]),l++);return 0===d.latitude&&(d.longitude=p,c[l]=r.cartographicToCartesian(d,c[l]),l++,d.longitude=O,c[l]=r.cartographicToCartesian(d,c[l]),l++),c.length=l,c},i.MAX_VALUE=s(new i(-Math.PI,-u.PI_OVER_TWO,Math.PI,u.PI_OVER_TWO)),i});