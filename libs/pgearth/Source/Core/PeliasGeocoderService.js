define(["./Cartesian3","./Check","./defined","./defineProperties","./GeocodeType","./Rectangle","./Resource"],function(e,r,t,o,n,i,u){"use strict";function s(e){r.defined("url",e),this._url=u.createIfNeeded(e),this._url.appendForwardSlash()}return o(s.prototype,{url:{get:function(){return this._url}}}),s.prototype.geocode=function(o,u){return r.typeOf.string("query",o),this._url.getDerivedResource({url:u===n.AUTOCOMPLETE?"autocomplete":"search",queryParameters:{text:o}}).fetchJson().then(function(r){return r.features.map(function(r){var o,n=r.bbox;if(t(n))o=i.fromDegrees(n[0],n[1],n[2],n[3]);else{var u=r.geometry.coordinates[0],s=r.geometry.coordinates[1];o=e.fromDegrees(u,s)}return{displayName:r.properties.label,destination:o}})})},s});