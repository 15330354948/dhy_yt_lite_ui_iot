define(["./defaultValue","./defined","./formatError"],function(e,r,t){"use strict";function i(r,t,i,s,n,o,u){this.provider=r,this.message=t,this.x=i,this.y=s,this.level=n,this.timesRetried=e(o,0),this.retry=!1,this.error=u}return i.handleError=function(e,s,n,o,u,c,d,a,h){var l=e;return r(e)?(l.provider=s,l.message=o,l.x=u,l.y=c,l.level=d,l.retry=!1,l.error=h,++l.timesRetried):l=new i(s,o,u,c,d,0,h),n.numberOfListeners>0?n.raiseEvent(l):console.log('An error occurred in "'+s.constructor.name+'": '+t(o)),l.retry&&r(a)&&a(),l},i.handleSuccess=function(e){r(e)&&(e.timesRetried=-1)},i});