define(["./hasExtension","../../Core/defined","../../Core/isArray"],function(e,r,n){"use strict";function t(){}return t.objectLegacy=function(e,n){if(r(e))for(var t in e)if(e.hasOwnProperty(t)){var i=n(e[t],t);if(r(i))return i}},t.object=function(e,n){if(r(e))for(var t=e.length,i=0;i<t;i++){var u=n(e[i],i);if(r(u))return u}},t.topLevel=function(e,i,u){var o=e[i];return r(o)&&!n(o)?t.objectLegacy(o,u):t.object(o,u)},t.accessor=function(e,r){return t.topLevel(e,"accessors",r)},t.accessorWithSemantic=function(e,n,i){var u={};return t.mesh(e,function(e){return t.meshPrimitive(e,function(e){var o=t.meshPrimitiveAttribute(e,function(e,t){if(0===t.indexOf(n)&&!r(u[e])&&(u[e]=!0,o=i(e),r(o)))return o});return r(o)?o:t.meshPrimitiveTarget(e,function(e){return t.meshPrimitiveTargetAttribute(e,function(e,t){if(0===t.indexOf(n)&&!r(u[e])&&(u[e]=!0,o=i(e),r(o)))return o})})})})},t.accessorContainingVertexAttributeData=function(e,n){var i={};return t.mesh(e,function(e){return t.meshPrimitive(e,function(e){var u=t.meshPrimitiveAttribute(e,function(e){if(!r(i[e])&&(i[e]=!0,u=n(e),r(u)))return u});return r(u)?u:t.meshPrimitiveTarget(e,function(e){return t.meshPrimitiveTargetAttribute(e,function(e){if(!r(i[e])&&(i[e]=!0,u=n(e),r(u)))return u})})})})},t.accessorContainingIndexData=function(e,n){var i={};return t.mesh(e,function(e){return t.meshPrimitive(e,function(e){var t=e.indices;if(r(t)&&!r(i[t])){i[t]=!0;var u=n(t);if(r(u))return u}})})},t.animation=function(e,r){return t.topLevel(e,"animations",r)},t.animationChannel=function(e,r){var n=e.channels;return t.object(n,r)},t.animationSampler=function(e,r){var n=e.samplers;return t.object(n,r)},t.buffer=function(e,r){return t.topLevel(e,"buffers",r)},t.bufferView=function(e,r){return t.topLevel(e,"bufferViews",r)},t.camera=function(e,r){return t.topLevel(e,"cameras",r)},t.image=function(e,r){return t.topLevel(e,"images",r)},t.compressedImage=function(e,n){if(r(e.extras)){var t=e.extras.compressedImage3DTiles;for(var i in t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}}},t.material=function(e,r){return t.topLevel(e,"materials",r)},t.materialValue=function(e,n){var t=e.values;for(var i in r(e.extensions)&&r(e.extensions.KHR_techniques_webgl)&&(t=e.extensions.KHR_techniques_webgl.values),t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}},t.mesh=function(e,r){return t.topLevel(e,"meshes",r)},t.meshPrimitive=function(e,n){var t=e.primitives;if(r(t))for(var i=t.length,u=0;u<i;u++){var o=n(t[u],u);if(r(o))return o}},t.meshPrimitiveAttribute=function(e,n){var t=e.attributes;for(var i in t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}},t.meshPrimitiveTarget=function(e,n){var t=e.targets;if(r(t))for(var i=t.length,u=0;u<i;++u){var o=n(t[u],u);if(r(o))return o}},t.meshPrimitiveTargetAttribute=function(e,n){for(var t in e)if(e.hasOwnProperty(t)){var i=n(e[t],t);if(r(i))return i}},t.node=function(e,r){return t.topLevel(e,"nodes",r)},t.nodeInTree=function(e,n,i){var u=e.nodes;if(r(u))for(var o=n.length,a=0;a<o;a++){var f=n[a],s=u[f];if(r(s)){var c=i(s,f);if(r(c))return c;var v=s.children;if(r(v)&&(c=t.nodeInTree(e,v,i),r(c)))return c}}},t.nodeInScene=function(e,n,i){var u=n.nodes;if(r(u))return t.nodeInTree(e,u,i)},t.program=function(r,n){return e(r,"KHR_techniques_webgl")?t.object(r.extensions.KHR_techniques_webgl.programs,n):t.topLevel(r,"programs",n)},t.sampler=function(e,r){return t.topLevel(e,"samplers",r)},t.scene=function(e,r){return t.topLevel(e,"scenes",r)},t.shader=function(r,n){return e(r,"KHR_techniques_webgl")?t.object(r.extensions.KHR_techniques_webgl.shaders,n):t.topLevel(r,"shaders",n)},t.skin=function(e,r){return t.topLevel(e,"skins",r)},t.techniqueAttribute=function(e,n){var t=e.attributes;for(var i in t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}},t.techniqueUniform=function(e,n){var t=e.uniforms;for(var i in t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}},t.techniqueParameter=function(e,n){var t=e.parameters;for(var i in t)if(t.hasOwnProperty(i)){var u=n(t[i],i);if(r(u))return u}},t.technique=function(r,n){return e(r,"KHR_techniques_webgl")?t.object(r.extensions.KHR_techniques_webgl.techniques,n):t.topLevel(r,"techniques",n)},t.texture=function(e,r){return t.topLevel(e,"textures",r)},t});