define(["../Core/appendForwardSlash","../Core/Credit","../Core/defaultValue","../Core/DeveloperError","../Core/Rectangle","../Core/Resource","../Core/WebMercatorTilingScheme","./UrlTemplateImageryProvider"],function(e,t,r,i,n,a,o,l){"use strict";var m=new t("MapQuest, Open Street Map and contributors, CC-BY-SA");return function(s){s=r(s,{});var u=r(s.url,"https://a.tile.openstreetmap.org/");u=e(u),u+="{z}/{x}/{y}."+r(s.fileExtension,"png");var p=a.createIfNeeded(u),d=new o({ellipsoid:s.ellipsoid}),h=r(s.minimumLevel,0),c=s.maximumLevel,v=r(s.rectangle,d.rectangle),g=d.positionToTileXY(n.southwest(v),h),C=d.positionToTileXY(n.northeast(v),h),f=(Math.abs(C.x-g.x)+1)*(Math.abs(C.y-g.y)+1);if(f>4)throw new i("The rectangle and minimumLevel indicate that there are "+f+" tiles at the minimum level. Imagery providers with more than four tiles at the minimum level are not supported.");var w=r(s.credit,m);return"string"==typeof w&&(w=new t(w)),new l({url:p,credit:w,tilingScheme:d,tileWidth:256,tileHeight:256,minimumLevel:h,maximumLevel:c,rectangle:v})}});