define(["./arrayFill","./BoundingSphere","./Cartesian3","./Check","./ComponentDatatype","./defaultValue","./defined","./DeveloperError","./Geometry","./GeometryAttribute","./GeometryAttributes","./GeometryOffsetAttribute","./PrimitiveType","./VertexFormat"],function(e,t,n,r,i,a,o,m,u,s,y,f,p,x){"use strict";var c=new n;function A(e){var t=(e=a(e,a.EMPTY_OBJECT)).minimum,i=e.maximum;if(r.typeOf.object("min",t),r.typeOf.object("max",i),o(e.offsetAttribute)&&e.offsetAttribute===f.TOP)throw new m("GeometryOffsetAttribute.TOP is not a supported options.offsetAttribute for this geometry.");var u=a(e.vertexFormat,x.DEFAULT);this._minimum=n.clone(t),this._maximum=n.clone(i),this._vertexFormat=u,this._offsetAttribute=e.offsetAttribute,this._workerName="createBoxGeometry"}A.fromDimensions=function(e){var t=(e=a(e,a.EMPTY_OBJECT)).dimensions;r.typeOf.object("dimensions",t),r.typeOf.number.greaterThanOrEquals("dimensions.x",t.x,0),r.typeOf.number.greaterThanOrEquals("dimensions.y",t.y,0),r.typeOf.number.greaterThanOrEquals("dimensions.z",t.z,0);var i=n.multiplyByScalar(t,.5,new n);return new A({minimum:n.negate(i,new n),maximum:i,vertexFormat:e.vertexFormat,offsetAttribute:e.offsetAttribute})},A.fromAxisAlignedBoundingBox=function(e){return r.typeOf.object("boundingBox",e),new A({minimum:e.minimum,maximum:e.maximum})},A.packedLength=2*n.packedLength+x.packedLength+1,A.pack=function(e,t,i){return r.typeOf.object("value",e),r.defined("array",t),i=a(i,0),n.pack(e._minimum,t,i),n.pack(e._maximum,t,i+n.packedLength),x.pack(e._vertexFormat,t,i+2*n.packedLength),t[i+2*n.packedLength+x.packedLength]=a(e._offsetAttribute,-1),t};var b,v=new n,l=new n,d=new x,z={minimum:v,maximum:l,vertexFormat:d,offsetAttribute:void 0};return A.unpack=function(e,t,i){r.defined("array",e),t=a(t,0);var m=n.unpack(e,t,v),u=n.unpack(e,t+n.packedLength,l),s=x.unpack(e,t+2*n.packedLength,d),y=e[t+2*n.packedLength+x.packedLength];return o(i)?(i._minimum=n.clone(m,i._minimum),i._maximum=n.clone(u,i._maximum),i._vertexFormat=x.clone(s,i._vertexFormat),i._offsetAttribute=-1===y?void 0:y,i):(z.offsetAttribute=-1===y?void 0:y,new A(z))},A.createGeometry=function(r){var a=r._minimum,m=r._maximum,x=r._vertexFormat;if(!n.equals(a,m)){var A,b,v=new y;if(x.position&&(x.st||x.normal||x.tangent||x.bitangent)){if(x.position&&((b=new Float64Array(72))[0]=a.x,b[1]=a.y,b[2]=m.z,b[3]=m.x,b[4]=a.y,b[5]=m.z,b[6]=m.x,b[7]=m.y,b[8]=m.z,b[9]=a.x,b[10]=m.y,b[11]=m.z,b[12]=a.x,b[13]=a.y,b[14]=a.z,b[15]=m.x,b[16]=a.y,b[17]=a.z,b[18]=m.x,b[19]=m.y,b[20]=a.z,b[21]=a.x,b[22]=m.y,b[23]=a.z,b[24]=m.x,b[25]=a.y,b[26]=a.z,b[27]=m.x,b[28]=m.y,b[29]=a.z,b[30]=m.x,b[31]=m.y,b[32]=m.z,b[33]=m.x,b[34]=a.y,b[35]=m.z,b[36]=a.x,b[37]=a.y,b[38]=a.z,b[39]=a.x,b[40]=m.y,b[41]=a.z,b[42]=a.x,b[43]=m.y,b[44]=m.z,b[45]=a.x,b[46]=a.y,b[47]=m.z,b[48]=a.x,b[49]=m.y,b[50]=a.z,b[51]=m.x,b[52]=m.y,b[53]=a.z,b[54]=m.x,b[55]=m.y,b[56]=m.z,b[57]=a.x,b[58]=m.y,b[59]=m.z,b[60]=a.x,b[61]=a.y,b[62]=a.z,b[63]=m.x,b[64]=a.y,b[65]=a.z,b[66]=m.x,b[67]=a.y,b[68]=m.z,b[69]=a.x,b[70]=a.y,b[71]=m.z,v.position=new s({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:b})),x.normal){var l=new Float32Array(72);l[0]=0,l[1]=0,l[2]=1,l[3]=0,l[4]=0,l[5]=1,l[6]=0,l[7]=0,l[8]=1,l[9]=0,l[10]=0,l[11]=1,l[12]=0,l[13]=0,l[14]=-1,l[15]=0,l[16]=0,l[17]=-1,l[18]=0,l[19]=0,l[20]=-1,l[21]=0,l[22]=0,l[23]=-1,l[24]=1,l[25]=0,l[26]=0,l[27]=1,l[28]=0,l[29]=0,l[30]=1,l[31]=0,l[32]=0,l[33]=1,l[34]=0,l[35]=0,l[36]=-1,l[37]=0,l[38]=0,l[39]=-1,l[40]=0,l[41]=0,l[42]=-1,l[43]=0,l[44]=0,l[45]=-1,l[46]=0,l[47]=0,l[48]=0,l[49]=1,l[50]=0,l[51]=0,l[52]=1,l[53]=0,l[54]=0,l[55]=1,l[56]=0,l[57]=0,l[58]=1,l[59]=0,l[60]=0,l[61]=-1,l[62]=0,l[63]=0,l[64]=-1,l[65]=0,l[66]=0,l[67]=-1,l[68]=0,l[69]=0,l[70]=-1,l[71]=0,v.normal=new s({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:l})}if(x.st){var d=new Float32Array(48);d[0]=0,d[1]=0,d[2]=1,d[3]=0,d[4]=1,d[5]=1,d[6]=0,d[7]=1,d[8]=1,d[9]=0,d[10]=0,d[11]=0,d[12]=0,d[13]=1,d[14]=1,d[15]=1,d[16]=0,d[17]=0,d[18]=1,d[19]=0,d[20]=1,d[21]=1,d[22]=0,d[23]=1,d[24]=1,d[25]=0,d[26]=0,d[27]=0,d[28]=0,d[29]=1,d[30]=1,d[31]=1,d[32]=1,d[33]=0,d[34]=0,d[35]=0,d[36]=0,d[37]=1,d[38]=1,d[39]=1,d[40]=0,d[41]=0,d[42]=1,d[43]=0,d[44]=1,d[45]=1,d[46]=0,d[47]=1,v.st=new s({componentDatatype:i.FLOAT,componentsPerAttribute:2,values:d})}if(x.tangent){var z=new Float32Array(72);z[0]=1,z[1]=0,z[2]=0,z[3]=1,z[4]=0,z[5]=0,z[6]=1,z[7]=0,z[8]=0,z[9]=1,z[10]=0,z[11]=0,z[12]=-1,z[13]=0,z[14]=0,z[15]=-1,z[16]=0,z[17]=0,z[18]=-1,z[19]=0,z[20]=0,z[21]=-1,z[22]=0,z[23]=0,z[24]=0,z[25]=1,z[26]=0,z[27]=0,z[28]=1,z[29]=0,z[30]=0,z[31]=1,z[32]=0,z[33]=0,z[34]=1,z[35]=0,z[36]=0,z[37]=-1,z[38]=0,z[39]=0,z[40]=-1,z[41]=0,z[42]=0,z[43]=-1,z[44]=0,z[45]=0,z[46]=-1,z[47]=0,z[48]=-1,z[49]=0,z[50]=0,z[51]=-1,z[52]=0,z[53]=0,z[54]=-1,z[55]=0,z[56]=0,z[57]=-1,z[58]=0,z[59]=0,z[60]=1,z[61]=0,z[62]=0,z[63]=1,z[64]=0,z[65]=0,z[66]=1,z[67]=0,z[68]=0,z[69]=1,z[70]=0,z[71]=0,v.tangent=new s({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:z})}if(x.bitangent){var w=new Float32Array(72);w[0]=0,w[1]=1,w[2]=0,w[3]=0,w[4]=1,w[5]=0,w[6]=0,w[7]=1,w[8]=0,w[9]=0,w[10]=1,w[11]=0,w[12]=0,w[13]=1,w[14]=0,w[15]=0,w[16]=1,w[17]=0,w[18]=0,w[19]=1,w[20]=0,w[21]=0,w[22]=1,w[23]=0,w[24]=0,w[25]=0,w[26]=1,w[27]=0,w[28]=0,w[29]=1,w[30]=0,w[31]=0,w[32]=1,w[33]=0,w[34]=0,w[35]=1,w[36]=0,w[37]=0,w[38]=1,w[39]=0,w[40]=0,w[41]=1,w[42]=0,w[43]=0,w[44]=1,w[45]=0,w[46]=0,w[47]=1,w[48]=0,w[49]=0,w[50]=1,w[51]=0,w[52]=0,w[53]=1,w[54]=0,w[55]=0,w[56]=1,w[57]=0,w[58]=0,w[59]=1,w[60]=0,w[61]=0,w[62]=1,w[63]=0,w[64]=0,w[65]=1,w[66]=0,w[67]=0,w[68]=1,w[69]=0,w[70]=0,w[71]=1,v.bitangent=new s({componentDatatype:i.FLOAT,componentsPerAttribute:3,values:w})}(A=new Uint16Array(36))[0]=0,A[1]=1,A[2]=2,A[3]=0,A[4]=2,A[5]=3,A[6]=6,A[7]=5,A[8]=4,A[9]=7,A[10]=6,A[11]=4,A[12]=8,A[13]=9,A[14]=10,A[15]=8,A[16]=10,A[17]=11,A[18]=14,A[19]=13,A[20]=12,A[21]=15,A[22]=14,A[23]=12,A[24]=18,A[25]=17,A[26]=16,A[27]=19,A[28]=18,A[29]=16,A[30]=20,A[31]=21,A[32]=22,A[33]=20,A[34]=22,A[35]=23}else(b=new Float64Array(24))[0]=a.x,b[1]=a.y,b[2]=a.z,b[3]=m.x,b[4]=a.y,b[5]=a.z,b[6]=m.x,b[7]=m.y,b[8]=a.z,b[9]=a.x,b[10]=m.y,b[11]=a.z,b[12]=a.x,b[13]=a.y,b[14]=m.z,b[15]=m.x,b[16]=a.y,b[17]=m.z,b[18]=m.x,b[19]=m.y,b[20]=m.z,b[21]=a.x,b[22]=m.y,b[23]=m.z,v.position=new s({componentDatatype:i.DOUBLE,componentsPerAttribute:3,values:b}),(A=new Uint16Array(36))[0]=4,A[1]=5,A[2]=6,A[3]=4,A[4]=6,A[5]=7,A[6]=1,A[7]=0,A[8]=3,A[9]=1,A[10]=3,A[11]=2,A[12]=1,A[13]=6,A[14]=5,A[15]=1,A[16]=2,A[17]=6,A[18]=2,A[19]=3,A[20]=7,A[21]=2,A[22]=7,A[23]=6,A[24]=3,A[25]=0,A[26]=4,A[27]=3,A[28]=4,A[29]=7,A[30]=0,A[31]=1,A[32]=5,A[33]=0,A[34]=5,A[35]=4;var g=n.subtract(m,a,c),O=.5*n.magnitude(g);if(o(r._offsetAttribute)){var _=b.length,h=new Uint8Array(_/3),F=r._offsetAttribute===f.NONE?0:1;e(h,F),v.applyOffset=new s({componentDatatype:i.UNSIGNED_BYTE,componentsPerAttribute:1,values:h})}return new u({attributes:v,indices:A,primitiveType:p.TRIANGLES,boundingSphere:new t(n.ZERO,O),offsetAttribute:r._offsetAttribute})}},A.getUnitBox=function(){return o(b)||(b=A.createGeometry(A.fromDimensions({dimensions:new n(1,1,1),vertexFormat:x.POSITION_ONLY}))),b},A});